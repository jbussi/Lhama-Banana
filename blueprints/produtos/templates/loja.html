{% extends "base.html" %}

{% block page_css %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<link rel="stylesheet" href="{{ url_for('produtos.static', filename='css/loja.css') }}">
{% endblock %}
{% block title %}Loja - LhamaBanana{% endblock %}

{% block content %}

<div class="shop-container">
    <div class="page-header mb-5">
        <h1 class="page-title">Nossa Loja</h1>
        <p class="page-subtitle">Encontre os melhores produtos com estampas exclusivas de lhamas</p>
    </div>
    
    <div class="shop-layout">
        <!-- Barra Lateral de Filtros -->
        <aside class="filters-sidebar" id="filters-sidebar">
            <div class="filters-header">
                <h2>Filtros</h2>
                <button class="clear-filters-btn" id="clear-filters-btn">Limpar Filtros</button>
            </div>
            
            <!-- Filtro de Categorias -->
            <div class="filter-group">
                <h3 class="filter-title">
                    <i class="fas fa-tags"></i> Categorias
                </h3>
                <div class="filter-options" id="category-filters">
                    <div class="filter-loading">Carregando categorias...</div>
                </div>
            </div>
            
            <!-- Filtro de Tamanhos -->
            <div class="filter-group">
                <h3 class="filter-title">
                    <i class="fas fa-ruler"></i> Tamanhos
                </h3>
                <div class="filter-options" id="size-filters">
                    <div class="filter-loading">Carregando tamanhos...</div>
                </div>
            </div>
            
            <!-- Filtro de Estampas -->
            <div class="filter-group">
                <h3 class="filter-title">
                    <i class="fas fa-palette"></i> Estampas
                </h3>
                <div class="filter-options filter-options-images" id="estampa-filters">
                    <div class="filter-loading">Carregando estampas...</div>
                </div>
            </div>
            
            <!-- Filtro de Tecido -->
            <div class="filter-group">
                <h3 class="filter-title">
                    <i class="fas fa-tshirt"></i> Tecido
                </h3>
                <div class="filter-options" id="tecido-filters">
                    <div class="filter-loading">Carregando tecidos...</div>
                </div>
            </div>
            
            <!-- Filtro de Sexo -->
            <div class="filter-group">
                <h3 class="filter-title">
                    <i class="fas fa-venus-mars"></i> Sexo
                </h3>
                <div class="filter-options" id="sexo-filters">
                    <div class="filter-loading">Carregando opções...</div>
                </div>
            </div>
            
            <!-- Filtro de Preço -->
            <div class="filter-group">
                <h3 class="filter-title">
                    <i class="fas fa-dollar-sign"></i> Preço
                </h3>
                <div class="filter-options" id="price-filters">
                    <div class="filter-loading">Carregando faixas de preço...</div>
                </div>
            </div>
        </aside>
        
        <!-- Área Principal de Produtos -->
        <main class="products-main">
            <div class="products-header">
                <div class="products-count" id="products-count">
                    <span id="products-count-text">Carregando produtos...</span>
                </div>
                <button class="toggle-filters-btn" id="toggle-filters-btn">
                    <i class="fas fa-filter"></i> Filtros
                </button>
            </div>
            
            <!-- Grid de Produtos -->
            <div class="product-grid" id="product-grid">
                <div class="loading-message">Carregando produtos...</div>
            </div>
            
            <!-- Paginação -->
            <div class="pagination" id="pagination">
                <!-- Paginação será injetada aqui pelo JS -->
            </div>
        </main>
    </div>
</div>

{# O script deve ser carregado no final do 'block content' e com type="module" #}
<script type="module" src="{{ url_for('produtos.static', filename='js/loja.js') }}"></script>
{% endblock %}
